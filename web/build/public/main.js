webpackJsonp([3],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(4),i=o(r),a=n(35),s=o(a);n(166),n(168);var u=n(344),c=o(u);s.default.render(i.default.createElement(c.default,null),document.getElementById("root"))},236:function(e,t){e.exports={html:"_2IEbKXsGxdttGekYd5-NOO",module:"_2hqwo_N7v5APz8xgQXe4qH",userForm:"_2Th0HJ_oUISANJq1RtUzta",header:"qCWd72lP1OHLZxbr5F48Q",optionsGrid:"_1KWfUxV4V31dd14o6tyV81",diskContentContainer:"FAmt2FK7RDUw9n5t91mH2",editModeContainer:"e8ZgGYe9zHDcmyn7KtZl2",editModeSwitcher:"_3ZMBoPHXMqFBhG9p03Igvo",tooltip:"_2JQQtST2i06OIamTqCV16s",drop:"JGWQCsKyyPqPm9dRfU-Sl",emerge:"_6hTqgHBcOi9VQ5rILrp_W"}},239:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(240),f=o(l),d=n(180),p=o(d),h=n(171),m=o(h),y=n(238),b=(o(y),n(184)),v=n(242),_=o(v),g=n(243),w=o(g),k=n(244),E=o(k),O=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.css,t=!!this.props.disk.getIn(["fileToBeMoved","_id"]),n=function(e){return e=e.toObject(),c.default.createElement(_.default,{key:e._id,directory:e})},o=this.props.disk.get("currentDirectory").toObject(),r=(this.props.disk.get("loading"),t?this.props.disk.get("directories").filter(function(e){return e.get("_id")!==o._id}).toList():this.props.disk.get("directories").filter(function(e){return e.get("parent")===o._id}).toList());return c.default.createElement("div",{className:(0,m.default)(e.itemList,"grid-parent")},o.depth>0?c.default.createElement(E.default,null):"",r.map(n),c.default.createElement(w.default,null))}}]),t}(c.default.Component),j=function(e){return{user:e.user,disk:e.disk}};t.default=(0,b.connect)(j)((0,p.default)(f.default)(O))},240:function(e,t){e.exports={html:"_1bzBwoVYIbeR5UPceRbpEz",module:"_3Mtwi0iwhfFpEq7seR4902",userForm:"_2NFCp0D6ODBE11E9UGjHA8",itemEach:"_2EFSiH_k4zCeSSA-zg3CLN",drop:"_3prgk0bo-NXm5id63-ULLL",item:"_1GLHXetiaUf09tX47PIkee",directory:"_2z1DiwENtx5q36mIHrJyaa",newDirectory:"_2lvhySgdt9szejUz0jfvEb",parentDirectory:"_1jze0cQdFc4IXoA_pvSFbl",uploadingFile:"_2rh80fRbhbdNv5n6MH2Z5Q",file:"_1Bgxk8UcVSgc91sU_VKkgI",body:"tGMZyW3fbd1bzOth9Ef7u",itemOptions:"_20ZWL2nGoVZVfgL1kzG5zC",itemLogo:"_3jFRPoTp-8wghYYuw7gsSX",itemInput:"_1ewMQWWFCksTv6LSenO9su",subItemsTag:"_37xAioPpC0ypZ_g2CN6vMa",itemName:"_1ycGZxpfRo9svNFdN4lL2O",newDirectoryPlus:"VufABiehTQYD9FT0IDDjM",newDirectoryForm:"_2cV3nIueE2XPl-b4Jla7-C",newDirectoryTextArea:"_16xdYg-mCb5cn6zueBwJJ1",uploadingProgress:"_3Zb-Kb8ZGBwzkBfBhjqJXM",overlay:"PYUq7ygzeIpa2wMaLbsB7",fileImage:"_36e2FMvdKqP9T517KJHbrF",fileImageContainer:"_2m1y5JMelUOnjQN_HngIMa",uploadingTag:"_1-khlcM4K_lYG95TA4qj4B",emerge:"_3j98-GLRZvHtc6RKPEp9iH"}},242:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(240),f=o(l),d=n(180),p=o(d),h=n(171),m=o(h),y=n(238),b=o(y),v=n(184),_=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onTakeAction=e.onTakeAction.bind(e),e.onRemove=e.onRemove.bind(e),e.onEdit=e.onEdit.bind(e),e.onConfirm=e.onConfirm.bind(e),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.refs.newDirectoryInput.addEventListener("keypress",function(e){event.stopPropagation(),13==(e.keyCode||e.which)&&this.onConfirm()}.bind(this)),this.refs.newDirectoryInput.addEventListener("blur",function(e){_Y_.show(this.refs.body),_Y_.hide(this.refs.form),this.refs.newDirectoryInput.value=""}.bind(this))}},{key:"onEdit",value:function(e){e.stopPropagation(),_Y_.hide(this.refs.body),_Y_.show(this.refs.form),this.refs.newDirectoryInput.focus()}},{key:"onConfirm",value:function(){b.default.dispatchRenameDirectoryAsync({id:this.props.directory._id,parentId:this.props.directory.parent,body:{name:this.refs.newDirectoryInput.value}})(this.props.dispatch,function(){return this.props.disk}.bind(this)),this.refs.newDirectoryInput.blur()}},{key:"onRemove",value:function(e){e.stopPropagation(),b.default.dispatchRemoveDirectoryAsync({id:this.props.directory._id,parentId:this.props.directory.parent})(this.props.dispatch,function(){return this.props.disk}.bind(this))}},{key:"onTakeAction",value:function(){event.stopPropagation();var e=this.props.disk.getIn(["fileToBeMoved","_id"]),t=this.props.disk.getIn(["currentDirectory","_id"]),n=!!e;n?b.default.dispatchMoveFileAsync({fileId:e,targetDirectoryId:this.props.directory._id,sourceDirectoryId:t})(this.props.dispatch,function(){return this.props.disk}.bind(this)):b.default.dispatchDiveIntoDirectoryAsync({id:this.props.directory._id,parentId:this.props.directory.parent})(this.props.dispatch,function(){return this.props.disk}.bind(this))}},{key:"render",value:function(){var e=this.props.css,t=this.props.disk.get("editStatus"),n=this.props.directory.subDirectories.length+this.props.directory.subFiles.length,o=(t&&this.props.directory.isEditing?1:0,t&&this.props.directory.isEditing?"none":"inline-block",!!this.props.disk.getIn(["fileToBeMoved","_id"]));return c.default.createElement("div",{style:{zIndex:o?10:0},className:(0,m.default)(e.itemEach)},c.default.createElement("div",{className:(0,m.default)(e.directory)},c.default.createElement("div",{className:(0,m.default)(e.body),ref:"body",onClick:this.onTakeAction},c.default.createElement("div",{className:(0,m.default)(e.subItemsTag)},c.default.createElement("div",null,"["+n+"]")),c.default.createElement("div",{className:e.itemLogo},c.default.createElement("i",{className:"icon-folder"})),c.default.createElement("div",{className:e.itemName},this.props.directory.name)),c.default.createElement("div",{ref:"form",className:e.newDirectoryForm,style:{display:"none"}},c.default.createElement("textarea",{ref:"newDirectoryInput",placeholder:"请输入目录名称 按回车确定",className:(0,m.default)(e.newDirectoryTextArea),type:"text"})),t?c.default.createElement("div",{className:e.itemOptions},c.default.createElement("button",{onClick:this.onEdit,className:(0,m.default)("button-warning","icon-pencil2")}),c.default.createElement("button",{onClick:this.onRemove,className:(0,m.default)("button-error","icon-cross")})):""))}}]),t}(c.default.Component),g=function(e){return{user:e.user,disk:e.disk}};t.default=(0,v.connect)(g)((0,p.default)(f.default)(_))},243:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(240),f=o(l),d=n(180),p=o(d),h=n(171),m=o(h),y=n(238),b=o(y),v=n(184),_=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onCreateNewDirectory=e.onCreateNewDirectory.bind(e),e.onNewClick=e.onNewClick.bind(e),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.refs.newDirectoryInput.addEventListener("keypress",function(e){event.stopPropagation(),13==(e.keyCode||e.which)&&this.onCreateNewDirectory()}.bind(this)),this.refs.newDirectoryInput.addEventListener("blur",function(e){_Y_.show(this.refs.plus),_Y_.hide(this.refs.form),this.refs.newDirectoryInput.value=""}.bind(this))}},{key:"onCreateNewDirectory",value:function(){var e=this.props.disk.get("currentDirectory").toObject();if(e&&e._id){var t={parentId:e._id,body:{name:this.refs.newDirectoryInput.value}};b.default.dispatchCreateNewDirectoryAsync(t)(this.props.dispatch,function(){return this.props.disk}.bind(this))}this.refs.newDirectoryInput.blur()}},{key:"onNewClick",value:function(e){e.stopPropagation(),_Y_.hide(this.refs.plus),_Y_.show(this.refs.form),this.refs.newDirectoryInput.focus()}},{key:"render",value:function(){var e=this.props.css;return c.default.createElement("div",{onClick:this.onNewClick,className:(0,m.default)(e.itemEach)},c.default.createElement("div",{className:e.newDirectory},c.default.createElement("div",{className:"dead-center"},c.default.createElement("span",{style:{verticalAlign:top,margin:"3px"},ref:"plus",className:(0,m.default)("icon-plus")}),c.default.createElement("span",{style:{fontSize:"2em"},ref:"plus",className:(0,m.default)("icon-folder")})),c.default.createElement("div",{ref:"form",className:e.newDirectoryForm,style:{display:"none"}},c.default.createElement("textarea",{ref:"newDirectoryInput",placeholder:"请输入目录名称 按回车确定",className:(0,m.default)(e.newDirectoryTextArea),type:"text"}))))}}]),t}(c.default.Component),g=function(e){return{user:e.user,disk:e.disk}};t.default=(0,v.connect)(g)((0,p.default)(f.default)(_))},244:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(240),f=o(l),d=n(180),p=o(d),h=n(171),m=o(h),y=n(238),b=o(y),v=n(184),_=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onGoUpward=e.onGoUpward.bind(e),e}return a(t,e),s(t,[{key:"onGoUpward",value:function(){event.stopPropagation();var e=this.props.disk.get("currentDirectory").toObject();if(e&&e.depth>1&&e.parent){var t=this.props.disk.getIn(["directories",e.parent,"parent"]);b.default.dispatchDiveIntoDirectoryAsync({id:e.parent,parentId:t})(this.props.dispatch,function(){return this.props.disk}.bind(this))}else e&&1===e.depth&&e.parent&&b.default.dispatchGetRootAsync()(this.props.dispatch,function(){return this.props.disk}.bind(this))}},{key:"render",value:function(){var e=this.props.css;return c.default.createElement("div",{onClick:this.onGoUpward,className:(0,m.default)(e.itemEach)},c.default.createElement("div",{className:e.parentDirectory},c.default.createElement("div",{ref:"plus",className:(0,m.default)("icon-arrow-up-left"," dead-center","font-largest")})))}}]),t}(c.default.Component),g=function(e){return{user:e.user,disk:e.disk}};t.default=(0,v.connect)(g)((0,p.default)(f.default)(_))},245:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(240),f=o(l),d=n(180),p=o(d),h=n(171),m=o(h),y=n(238),b=(o(y),n(184)),v=n(246),_=o(v),g=n(248),w=o(g),k=n(251),E=o(k),O=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.css,t=function(e){return e=e.toObject(),c.default.createElement(_.default,{key:e._id,file:e})}.bind(this),n=function(e){return e=e.toObject(),c.default.createElement(E.default,{key:e.id,file:e})},o=this.props.disk.get("currentDirectory").toObject(),r=(this.props.disk.get("loading"),this.props.disk.get("files").filter(function(e){return e.get("parent")===o._id}).toList()),i=this.props.disk.get("uploadingFiles").filter(function(e){return e.get("parent")===o._id}).toList();return c.default.createElement("div",{className:(0,m.default)(e.itemList,"grid-parent")},r.map(t),i.map(n),c.default.createElement(w.default,null))}}]),t}(c.default.Component),j=function(e){return{user:e.user,disk:e.disk}};t.default=(0,b.connect)(j)((0,p.default)(f.default)(O))},246:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(240),f=o(l),d=n(180),p=o(d),h=n(171),m=o(h),y=n(238),b=o(y),v=n(184),_=n(247),g=o(_),w=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onRemove=e.onRemove.bind(e),e.onEdit=e.onEdit.bind(e),e.onConfirm=e.onConfirm.bind(e),e.onDownload=e.onDownload.bind(e),e.onMove=e.onMove.bind(e),e.onTakeAction=e.onTakeAction.bind(e),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.refs.file.addEventListener("mouseenter",function(e){"true"===this.refs.overlay.dataset.image&&(this.refs.overlay.style.opacity=1)}.bind(this)),this.refs.file.addEventListener("mouseleave",function(e){"true"===this.refs.overlay.dataset.image&&(this.refs.overlay.style.opacity=0)}.bind(this)),this.refs.newNameInput.addEventListener("keypress",function(e){event.stopPropagation(),13==(e.keyCode||e.which)&&this.onConfirm()}.bind(this)),this.refs.newNameInput.addEventListener("blur",function(e){_Y_.show(this.refs.body),_Y_.hide(this.refs.form),this.refs.newNameInput.value=""}.bind(this))}},{key:"onEdit",value:function(e){e.stopPropagation(),_Y_.hide(this.refs.body),_Y_.show(this.refs.form),this.refs.newNameInput.focus()}},{key:"onConfirm",value:function(){b.default.dispatchRenameFileAsync({id:this.props.file._id,parentId:this.props.file.parent,body:{name:this.refs.newNameInput.value}})(this.props.dispatch,function(){return this.props.disk}.bind(this)),this.refs.newNameInput.blur()}},{key:"onRemove",value:function(e){e.stopPropagation(),b.default.dispatchRemoveFileAsync({id:this.props.file._id,parentId:this.props.file.parent})(this.props.dispatch,function(){return this.props.disk}.bind(this))}},{key:"onMove",value:function(e){e.stopPropagation(),this.props.dispatch(b.default.switchToMoveMode({id:this.props.file._id}))}},{key:"onDownload",value:function(){event.stopPropagation(),b.default.dispatchRequestDownloadAsync({id:this.props.file._id,parentId:this.props.file.parent})(this.props.dispatch,function(){return this.props.disk}.bind(this))}},{key:"onTakeAction",value:function(){this.context.setImage&&this.context.setImage(__QINIU_URL+"/"+this.props.file.fileObject._id)}},{key:"render",value:function(){var e=this.props.css,t=this.props.disk.get("editStatus"),n=(t&&this.props.file.isEditing?1:0,t&&this.props.file.isEditing?"none":"block",!!this.props.disk.getIn(["fileToBeMoved","_id"])),o=!!n&&this.props.disk.getIn(["fileToBeMoved","_id"])===this.props.file._id,r=this.props.file,i=r.created&&r.fileObject.mime.startsWith("image");return c.default.createElement("div",{ref:"file",style:{zIndex:o?10:0},className:(0,m.default)(e.itemEach),onClick:this.onTakeAction},c.default.createElement("div",{className:(0,m.default)(e.file)},c.default.createElement("div",{className:(0,m.default)(e.body),ref:"body"},r.created&&r.fileObject.mime.startsWith("image")?c.default.createElement("img",{className:(0,m.default)(e.fileImage,"dead-center"),src:__QINIU_URL+"/"+r.fileObject._id}):"",c.default.createElement("div",{ref:"overlay",className:(0,m.default)(e.overlay),"data-image":i},c.default.createElement("div",{className:(0,m.default)(e.subItemsTag)},c.default.createElement("div",null,""+_Y_.humanFileSize(r.fileObject.size))),c.default.createElement("div",{className:(0,m.default)(e.itemLogo)},c.default.createElement("i",{className:g.default[r.name.split(".").pop()]})),c.default.createElement("div",{className:(0,m.default)(e.itemName)},r.name))),c.default.createElement("div",{ref:"form",className:e.newDirectoryForm,style:{display:"none"}},c.default.createElement("textarea",{ref:"newNameInput",placeholder:"请输入文件名称 按回车确定",className:(0,m.default)(e.newDirectoryTextArea),type:"text"})),t?c.default.createElement("div",{className:e.itemOptions},c.default.createElement("button",{onClick:this.onEdit,className:(0,m.default)("button-warning","icon-pencil2")}),c.default.createElement("button",{onClick:this.onRemove,className:(0,m.default)("button-error","icon-cross")})):""))}}]),t}(c.default.Component),k=function(e){return{user:e.user,disk:e.disk}};w.contextTypes={setImage:u.PropTypes.func},t.default=(0,v.connect)(k)((0,p.default)(f.default)(w))},247:function(e,t){"use strict";var n={};n.txt="icon-file-text-o",n.jpg="icon-file-picture-o",n.png="icon-file-picture-o",n.jpeg="icon-file-picture-o",n.gif="icon-file-picture-o",n.doc="icon-file-word-o",n.docx="icon-file-word-o",n.xls="icon-file-excel-o",n.xlsx="icon-file-excel-o",n.ppt="icon-file-powerpoint-o",n.pptx="icon-file-powerpoint-o",n.wma="icon-file-audio-o",n.mp3="icon-file-audio-o",n.aac="icon-file-audio-o",n.mpeg="icon-file-video-o",n.mp4="icon-file-video-o",n.mp5="icon-file-video-o",n.avi="icon-file-video-o",n.rm="icon-file-video-o",n.rmvb="icon-file-video-o",n.mkv="icon-file-video-o",n.ts="icon-file-video-o",n.py="icon-file-code-o",n.cs="icon-file-code-o",n.js="icon-file-code-o",n.java="icon-file-code-o",n.zip="icon-file-zip-o",n.rar="icon-file-zip-o",n["7z"]="icon-file-zip-o",n.txt="icon-file-text2",n.pdf="icon-file-pdf-o",e.exports=n},248:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(240),f=o(l),d=n(180),p=o(d),h=n(171),m=o(h),y=n(238),b=(o(y),n(184)),v=n(249),_=o(v),g=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onNewClick=e.onNewClick.bind(e),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){(0,_.default)(this.refs.uploader,this.props.dispatch,function(){return this.props.disk}.bind(this))}},{key:"onNewClick",value:function(e){e.stopPropagation(),this.refs.uploader.click()}},{key:"render",value:function(){var e=this.props.css;return c.default.createElement("div",{onClick:this.onNewClick,className:(0,m.default)(e.itemEach)},c.default.createElement("div",{className:e.newDirectory},c.default.createElement("div",{className:"dead-center"},c.default.createElement("span",{style:{verticalAlign:top},ref:"plus",className:(0,m.default)("icon-plus")}),c.default.createElement("span",{style:{fontSize:"2em",margin:"3px"},ref:"plus",className:(0,m.default)("icon-file-o")})),c.default.createElement("div",{ref:"form",className:e.newFileForm,style:{display:"none"}},c.default.createElement("div",null,c.default.createElement("input",{name:"uploader",accept:"image/*",ref:"uploader",type:"file",onChange:this.onUpload})))))}}]),t}(c.default.Component),w=function(e){return{user:e.user,disk:e.disk}};t.default=(0,b.connect)(w)((0,p.default)(f.default)(g))},249:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r,i,a=n(250),s=o(a),u=n(172),c=(o(u),n(174)),l=(o(c),n(175)),f=o(l),d=function(){return window.localStorage.getItem("userToken")},p=function(e,t){var n=new XMLHttpRequest;return n.open("POST",__API_BASE+"/disk/request/upload/dir/"+e+"/subfile/",!1),n.setRequestHeader("Accept","application/json"),n.setRequestHeader("Authorization","Bearer "+d()),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify({filename:t})),n},h=function(e,t){var n=new XMLHttpRequest;return n.open("POST",__API_BASE+"/qiniu-disk/dir/"+e+"/subfile/",!1),n.setRequestHeader("Accept","application/json"),n.setRequestHeader("Authorization","Bearer "+d()),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t)),n},m={runtimes:"html5,flash,html4",get_new_uptoken:!0,domain:__CONTAINER,max_file_size:"4mb",max_retries:1,chunk_size:"4mb",auto_start:!0,filters:{mime_types:[{title:"Image files",extensions:"jpg,gif,png"},{title:"Zip files",extensions:"zip"}],prevent_duplicates:!0}},y=function(e,t,n){r=n,i=t,m.browse_button=e,m.uptoken_func=function(e){var t=r().get("currentDirectory").toObject(),n=p(t._id,e.name);if(201===n.status){var o=JSON.parse(n.responseText);return e.key=o.key,o.token}},m.init={FilesAdded:function(e,t){var n=r().get("currentDirectory").toObject();plupload.each(t,function(e){e.parent=n._id,i(s.default.queue(e))})},BeforeUpload:function(e,t){},UploadProgress:function(e,t){i(s.default.progress(t))},FileUploaded:function(e,t,n){if(__DEV){var o=JSON.parse(n),r=h(t.parent,o);if(201===r.status){var a=JSON.parse(r.responseText);a.uploadId=t.id,i(s.default.uploaded(a))}}else{var a=JSON.parse(n);a.uploadId=t.id,i(s.default.uploaded(a))}},Error:function(e,t,n){switch(console.log(t.code),t.code){case-601:f.default.error("只允许上传jpg、png、gif图片及zip压缩包");break;case-601:f.default.error("文件大小限制为4mb")}},UploadComplete:function(){f.default.success("所有文件上传完毕")},Key:function(e,t){var n=t.key;return n}},Qiniu.uploader(m)};e.exports=y},250:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return{type:u.default.QUEUE,file:e}}function i(e){return{type:u.default.UPLOAD_PROGRESS,file:e}}function a(e){return{type:u.default.UPLOADED,file:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(208),u=o(s),c=n(172),l=(o(c),n(209)),f=(o(l),n(174));o(f);t.default={queue:r,progress:i,uploaded:a}},251:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(240),f=o(l),d=n(180),p=o(d),h=n(171),m=o(h),y=n(238),b=(o(y),n(184)),v=n(247),_=(o(v),function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.css,t=this.props.file;return c.default.createElement("div",{className:(0,m.default)(e.itemEach)},c.default.createElement("div",{className:e.uploadingFile},c.default.createElement("div",{className:e.uploadingProgress,style:{height:t.percent+"%"}}),c.default.createElement("div",{className:(0,m.default)(e.subItemsTag)},c.default.createElement("div",null,"["+_Y_.humanFileSize(t.size)+"]")),c.default.createElement("div",{className:e.itemLogo},c.default.createElement("i",{className:"icon-file-o"})),c.default.createElement("div",{className:e.itemName},t.name),c.default.createElement("div",{className:e.uploadingTag},"正在上传...")))}}]),t}(c.default.Component)),g=function(e){return{user:e.user,disk:e.disk}};t.default=(0,b.connect)(g)((0,p.default)(f.default)(_))},252:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(253),f=o(l),d=n(180),p=o(d),h=n(171),m=o(h),y=n(238),b=o(y),v=n(184),_=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onShowNewDirectory=e.onShowNewDirectory.bind(e),e.onGoUpward=e.onGoUpward.bind(e),e.onUpload=e.onUpload.bind(e),e}return a(t,e),s(t,[{key:"onShowNewDirectory",value:function(){var e=this.props.disk.get("currentDirectory").toObject();e&&e._id&&this.props.dispatch(b.default.onShowNewDirectory())}},{key:"onSwitchEditStatus",value:function(){this.props.dispatch(b.default.switchEditStatus())}},{key:"onUpload",value:function(){event.stopPropagation();var e=this.props.disk.get("currentDirectory").toObject();b.default.dispatchRequestUploadAsync({id:e._id,file:this.refs.uploader.files[0]})(this.props.dispatch,function(){return this.props.disk}.bind(this))}},{key:"onGoUpward",value:function(){event.stopPropagation();var e=this.props.disk.get("currentDirectory").toObject();if(e&&e.depth>1&&e.parent){var t=this.props.disk.getIn(["directories",e.parent,"parent"]);b.default.dispatchDiveIntoDirectoryAsync({id:e.parent,parentId:t})(this.props.dispatch,function(){return this.props.disk}.bind(this))}else e&&1===e.depth&&e.parent&&b.default.dispatchGetRootAsync()(this.props.dispatch,function(){return this.props.disk}.bind(this))}},{key:"render",value:function(){var e=this.props.css,t=this.props.disk.get("currentDirectory").toObject();this.props.disk.get("editStatus");return c.default.createElement("div",{className:(0,m.default)(e.options)},t.depth>0?c.default.createElement("div",{className:(0,m.default)("float-left"),style:{marginRight:"10px"}},c.default.createElement("button",{onClick:this.onGoUpward,className:(0,m.default)("icon-arrow-up-left button")},"返回")):"",t.depth<2?c.default.createElement("div",{className:(0,m.default)("float-left")},c.default.createElement("button",{onClick:this.onShowNewDirectory,className:(0,m.default)("icon-plus button-primary")},"目录")):"",t._id?c.default.createElement("div",{className:(0,m.default)("float-right")},c.default.createElement("button",{name:"uploader",type:"file",className:(0,m.default)("button-primary",e.uploader)},c.default.createElement("input",{name:"uploader",ref:"uploader",type:"file",onChange:this.onUpload}),c.default.createElement("div",null,"+文件"))):"")}}]),t}(c.default.Component),g=function(e){return{user:e.user,disk:e.disk}};t.default=(0,v.connect)(g)((0,p.default)(f.default)(_))},253:function(e,t){e.exports={options:"FF87YOHjzIey-eJoS8Rpx",uploader:"_2Le1OPK65kpl5kPTiiGCdy"}},344:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(171),f=(o(l),n(345)),d=o(f),p=n(255),h=o(p),m=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return c.default.createElement(h.default,null,c.default.createElement(d.default,null))}}]),t}(c.default.Component);t.default=m},345:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(256),f=n(180),d=o(f),p=n(346),h=o(p),m=n(355),y=o(m),b=n(358),v=o(b),_=n(363),g=o(_),w=n(368),k=o(w),E=n(369),O=o(E),j=n(370),P=o(j),N=n(377),C=o(N),T=n(383),S=o(T),x=n(384),R=o(x),I=n(323),M=(o(I),n(315),n(184)),D=n(171),q=(o(D),n(387)),A=o(q),L=n(366),B=(o(L),n(209)),F=o(B),z=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.loginRequired=e.loginRequired.bind(e),e.notLoginRequired=e.notLoginRequired.bind(e),e}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"loginStateCheck",value:function(e){var t=e.user.get("payload").toObject();(F.default.isEmpty(t)||t.anonymous)&&this.context.router.push({pathname:"/login"})}},{key:"notLoginStateCheck",value:function(e){var t=e.user.get("payload").toObject();F.default.isEmpty(t)||t.anonymous||this.context.router.push({pathname:"/main"})}},{key:"getChildContext",value:function(){var e={loginStateCheck:this.loginStateCheck,notLoginStateCheck:this.notLoginStateCheck};return e}},{key:"loginRequired",value:function(e,t,n){var o=this.props.user.get("payload").toObject();F.default.isEmpty(o)||o.anonymous?(t("/login"),n()):n()}},{key:"notLoginRequired",value:function(e,t,n){var o=(this.props.user.get("isLoading"),this.props.user.get("payload").toObject());F.default.isEmpty(o)||o.anonymous?n():(t("/"),n())}},{key:"render",value:function(){var e=(window.location.pathname,this.props.css);return c.default.createElement("div",{className:e.container},c.default.createElement(l.Router,{history:l.browserHistory},c.default.createElement(l.Route,{path:"/",component:h.default},c.default.createElement(l.IndexRoute,{components:v.default}),c.default.createElement(l.Route,{onEnter:this.loginRequired,path:"main",component:y.default},c.default.createElement(l.IndexRoute,{components:P.default}),c.default.createElement(l.Route,{path:"mine",components:P.default}),c.default.createElement(l.Route,{path:"disk",components:O.default}),c.default.createElement(l.Route,{path:"favorate",components:S.default}),c.default.createElement(l.Route,{path:"recent",components:C.default})),c.default.createElement(l.Route,{onEnter:this.notLoginRequired,path:"login",components:g.default})," ",c.default.createElement(l.Route,{onEnter:this.notLoginRequired,path:"welcome/:lid",components:k.default})," ",c.default.createElement(l.Route,{path:"*",components:R.default}))))}}]),t}(c.default.Component),U=function(e){return{user:e.user}};z.childContextTypes={loginStateCheck:u.PropTypes.func.isRequired,notLoginStateCheck:u.PropTypes.func.isRequired},t.default=(0,d.default)(A.default)((0,M.connect)(U)(z))},346:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(347),f=o(l),d=n(349),p=o(d),h=n(352),m=o(h),y=n(180),b=o(y),v=n(323),_=(o(v),n(184)),g=n(171),w=o(g),k=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onShowQrcode=e.onShowQrcode.bind(e),e.hideQrcode=e.hideQrcode.bind(e),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.hideQrcode()}},{key:"onShowQrcode",value:function(e){this.qrcode?(this.qrcode.clear(),this.qrcode.makeCode(e)):this.qrcode=new QRCode(this.refs.qrcode,{text:e,width:"700",height:"700",correctLevel:QRCode.CorrectLevel.H}),_Y_.show(this.refs.qrcode),_Y_.hide(this.refs.content)}},{key:"hideQrcode",value:function(){_Y_.hide(this.refs.qrcode),_Y_.show(this.refs.content)}},{key:"getChildContext",value:function(){return{onShowQrcode:this.onShowQrcode}}},{key:"render",value:function(){var e=this.props.css;return c.default.createElement("div",{className:e.app},c.default.createElement(p.default,null),c.default.createElement("div",{ref:"content",className:e.pageContent},this.props.children),c.default.createElement(m.default,null),c.default.createElement("div",{onClick:this.hideQrcode,className:(0,w.default)(e.qrcodeOverlay,"dead-center"),ref:"qrcode"}))}}]),t}(c.default.Component);k.childContextTypes={onShowQrcode:u.PropTypes.func.isRequired},k.contextTypes={router:c.default.PropTypes.object.isRequired};var E=function(e){return{user:e.user}};k.contextTypes={router:c.default.PropTypes.object.isRequired},t.default=(0,_.connect)(E)((0,b.default)(f.default)(k))},347:function(e,t){e.exports={html:"i-89pBATroacbvLH0BHvi",module:"_2RHEgbKgyvaFK8oOXVAjth",userForm:"_1A4m2RC5eOXPz8Zy5AX6aF",qrcodeOverlay:"wwR5tQ4d0EJoqa2d76BVN",emerge:"_1Z2ik_1jp8zmI8_1_ctkUO",drop:"FyDuOZ5sksKuSPf76HquK"}},349:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{dispatch:e.user.dispatch,user:e.user}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(4),l=o(c),f=(n(256),n(350)),d=o(f),p=n(180),h=o(p),m=n(171),y=o(m),b=n(323),v=o(b),_=n(184),g=n(209),w=o(g),k=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.logout=e.logout.bind(e),e}return a(t,e),u(t,[{key:"logout",value:function(){this.props.dispatch(v.default.logout())}},{key:"render",value:function(){var e=(function(e){var t=this.context.router.isActive(e);return!!t}.bind(this),this.props.css),t=this.props.user.get("payload").toObject();return l.default.createElement("div",{style:{background:"#ccc"}},l.default.createElement("div",{"data-target":"/main",className:(0,y.default)(e.logo)},"新课幻灯片"),w.default.isEmpty(t)?"":l.default.createElement("div",{className:(0,y.default)(e.links)},l.default.createElement("div",{className:(0,y.default)(e.linkEach)},""+t.nickname+(t.anonymous?"(匿名)":"")),l.default.createElement("div",{onClick:this.logout,className:(0,y.default)(e.linkEach)},"注销")))}}]),t}(l.default.Component);k.contextTypes={router:l.default.PropTypes.object.isRequired},t.default=(0,_.connect)(s)((0,h.default)(d.default)(k))},350:function(e,t){e.exports={html:"_3t0T3TrmrcaDy5dreg-RtB",module:"_8zzUSbU5ag2HTlLXj0vbK",userForm:"_1EVBGAP3ahyj2oN4s3IUoq",logo:"_2T3bp-MM7n0j2AvMUP6dh3",links:"_2BXx2b4_kQBvd_c0kCqZvI",linkEach:"LBt3Ew4lwxzaRF6YgL658",drop:"_1xNS6zAWJHvyHxwQmXCMVw",emerge:"_3PC6m-pS58xcue_Gb_UJim"}},352:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(180),f=o(l),d=n(353),p=o(d),h=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.css;return c.default.createElement("footer",{className:e.footer},c.default.createElement("div",{className:"container-full"},c.default.createElement("div",{className:"grid-parent"},c.default.createElement("div",null,c.default.createElement("div",null,"国家数字化学习技术工程研究中心")))))}}]),t}(c.default.Component);t.default=(0,f.default)(p.default)(h)},353:function(e,t){e.exports={html:"_1PHutDvMN5aLJ3-9Mtwuh6",module:"_2fPi3FKXDvVvwbAW3bl8vG",userForm:"_3XNJysrVfIpqITwW_hYDBF",footer:"_1lKNsqwGB_IQmwW8kJnv9l",drop:"_2ukrpL7T-Wbgu589pLMMFj",emerge:"_2MKRxc7FE4_RrAyhcvkY9I"}},355:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(356),f=o(l),d=n(180),p=o(d),h=n(171),m=o(h),y=n(184),b=n(256),v=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){window.root.style.background="#eee"}},{key:"render",value:function(){var e=this.props.css;this.props.presentation.get("presentations").toObject(),this.props.presentation.get("createFlag");return c.default.createElement("div",{ref:"module",style:{textAlign:"center"},className:(0,m.default)("container-mid",e.module)},c.default.createElement("h2",{className:(0,m.default)("heading-secondary","center")},c.default.createElement(b.Link,{to:"/main/mine",className:(0,m.default)(e.linkTitle)},"创作"),"|",c.default.createElement(b.Link,{to:"/main/disk",className:(0,m.default)(e.linkTitle)},"素材"),"|",c.default.createElement(b.Link,{to:"/main/favorate",className:(0,m.default)(e.linkTitle)},"收藏"),"|",c.default.createElement(b.Link,{to:"/main/recent",className:(0,m.default)(e.linkTitle)},"最近")),this.props.children)}}]),t}(c.default.Component),_=function(e){return{user:e.user,presentation:e.presentation}};v.contextTypes={router:c.default.PropTypes.object.isRequired,loginStateCheck:c.default.PropTypes.func.isRequired},t.default=(0,y.connect)(_)((0,p.default)(f.default)(v))},356:function(e,t){e.exports={linkTitle:"_2q3ZVnXTzL6D-kHaRCrlNe"}},358:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=(n(256),n(359)),f=o(l),d=n(360),p=o(d),h=n(180),m=o(h),y=n(184),b=n(171),v=o(b),_=n(217),g=o(_),w=n(209),k=o(w),E=n(362),O=o(E),j=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"super",value:function(){this.onNavigate=this.onNavigate.bind(this)}},{key:"componentDidMount",value:function(){var e=document.getElementById("reveal");_Y_.setHTML(e,f.default),Reveal.initialize(g.default.adConf),e.style.display=""}},{key:"onNavigate",value:function(e){_Y_.navigateTo(e.currentTarget.dataset.target,!0)}},{key:"render",value:function(){var e=this.props.user.get("payload").toObject(),t=this.props.css;return c.default.createElement("div",{className:t.home},c.default.createElement("div",{id:"reveal",ref:"reveal",style:{zIndex:100},className:(0,v.default)(t.reveal,"reveal")}),c.default.createElement("div",{className:(0,v.default)(t.homeBackground,"background-block"),style:{backgroundImage:"url(/background.jpg)",zIndex:1}},c.default.createElement("div",{className:"overlay"})),c.default.createElement("div",{className:t.area,style:{zIndex:120}},k.default.isEmpty(e)||e.anonymous?c.default.createElement("div",{onClick:this.onNavigate,"data-target":"/oauth/qq/luanch"},c.default.createElement("img",{style:{display:"inline-block",verticalAlign:"middle"},width:"24",height:"24",src:O.default}),c.default.createElement("div",{style:{display:"inline-block",verticalAlign:"middle",padding:"5px"}},"登录")):c.default.createElement("div",{style:{display:"inline-block",verticalAlign:"middle",padding:"10px"},onClick:this.onNavigate,"data-target":"/main/mine"},"Just Do It")))}}]),t}(c.default.Component),P=function(e){return{user:e.user,presentation:e.presentation}};j.contextTypes={router:c.default.PropTypes.object.isRequired,loginStateCheck:c.default.PropTypes.func.isRequired},t.default=(0,y.connect)(P)((0,m.default)(p.default)(j))},359:function(e,t){e.exports=' <div class=slides> <section> <h2>新课幻灯片</h2> <p>让你随心所欲地制作与播放互动幻灯片</p> </section> <section> <section> <h2>Vertical Slides</h2> <p>Slides can be nested inside of each other.</p> <p>Use the <em>Space</em> key to navigate through all slides.</p> <br> </section> <section> <h2>Basement Level 1</h2> <p>Nested slides are useful for adding additional detail underneath a high level horizontal slide.</p> </section> <section> <h2>Basement Level 2</h2> <p>That\'s it, time to go back up.</p> <br> </section> </section> <section> <h2>展现你的观点</h2> <p> 按 <strong>ESC</strong> 可以在预览与浏览模式之间切换. </p> <p> Hold down alt and click on any element to zoom in on it using <a href=http://lab.hakim.se/zoom-js>zoom.js</a>. Alt + click anywhere to zoom back out. </p> </section> <section> <h2>支持触摸</h2> <p> 在手机或平板等触控设备上，你只需要轻轻滑动就可以轻松浏览幻灯片。 </p> </section> <section id=transitions> <h2>过渡效果</h2> <p> You can select from different transitions, like: <br> <a href="?transition=fade#/transitions">褪色</a> - <a href="?transition=slide#/transitions">幻灯片</a> - <a href="?transition=convex#/transitions">凸面</a> - <a href="?transition=concave#/transitions">凹面</a> - <a href="?transition=zoom#/transitions">缩放</a> <a href="?transition=none#/transitions">无过渡</a> - </p> </section> <section id=themes> <h2>Themes</h2> <p> reveal.js comes with a few themes built in: <br> <a href=# onclick=\'return document.getElementById("theme").setAttribute("href","css/theme/black.css"),!1\'>Black (default)</a> - <a href=# onclick=\'return document.getElementById("theme").setAttribute("href","css/theme/white.css"),!1\'>White</a> - <a href=# onclick=\'return document.getElementById("theme").setAttribute("href","css/theme/league.css"),!1\'>League</a> - <a href=# onclick=\'return document.getElementById("theme").setAttribute("href","css/theme/sky.css"),!1\'>Sky</a> - <a href=# onclick=\'return document.getElementById("theme").setAttribute("href","css/theme/beige.css"),!1\'>Beige</a> - <a href=# onclick=\'return document.getElementById("theme").setAttribute("href","css/theme/simple.css"),!1\'>Simple</a> <br> <a href=# onclick=\'return document.getElementById("theme").setAttribute("href","css/theme/serif.css"),!1\'>Serif</a> - <a href=# onclick=\'return document.getElementById("theme").setAttribute("href","css/theme/blood.css"),!1\'>Blood</a> - <a href=# onclick=\'return document.getElementById("theme").setAttribute("href","css/theme/night.css"),!1\'>Night</a> - <a href=# onclick=\'return document.getElementById("theme").setAttribute("href","css/theme/moon.css"),!1\'>Moon</a> - <a href=# onclick=\'return document.getElementById("theme").setAttribute("href","css/theme/solarized.css"),!1\'>Solarized</a> </p> </section> <section> <section> <h2>Slide Backgrounds</h2> <p> Set <code>data-background="#dddddd"</code> on a slide to change the background color. All CSS color formats are supported. </p> </section> <section> <h2>Image Backgrounds</h2> <pre><code class=hljs>&lt;section data-background="image.png"&gt;</code></pre> </section> <section> <h2>Tiled Backgrounds</h2> <pre><code class=hljs style=word-wrap:break-word>&lt;section data-background="image.png" data-background-repeat="repeat" data-background-size="100px"&gt;</code></pre> </section> <section> <div style=background-color:rgba(0,0,0,.9);color:#fff;padding:20px> <h2>Video Backgrounds</h2> <pre><code class=hljs style=word-wrap:break-word>&lt;section data-background-video="video.mp4,video.webm"&gt;</code></pre> </div> </section> </section> <section> <h2>Background Transitions</h2> <p> Different background transitions are available via the backgroundTransition option. This one\'s called "zoom". </p> <pre><code class=hljs>Reveal.configure({ backgroundTransition: \'zoom\' })</code></pre> </section> <section data-transition=slide data-background=#b5533c data-background-transition=zoom> <h2>Background Transitions</h2> <p> You can override background transitions per-slide. </p> <pre><code class=hljs style=word-wrap:break-word>&lt;section data-background-transition="zoom"&gt;</code></pre> </section> <section> <h2>Pretty Code</h2> <pre><code class=hljs data-trim contenteditable>\n      if(you.love(me)){\n        me.happy();\n      }else{\n        me.die();\n      }\n\t\t\t\t\t</code></pre> <p>Code syntax highlighting courtesy of <a href=http://softwaremaniacs.org/soft/highlight/en/description/ >highlight.js</a>.</p> </section> <section> <h2>Marvelous List</h2> <ul> <li>No order here</li> <li>Or here</li> <li>Or here</li> <li>Or here</li> </ul> </section> <section> <h2 style=text-align:left>漂亮的列表</h2> <p>新年计划:</p> <ol> <li>变帅</li> <li>变壮</li> <li>变有钱!</li> </ol> </section> <section> <h2>Tabular Tables</h2> <table> <thead> <tr> <th>Item</th> <th>Value</th> <th>Quantity</th> </tr> </thead> <tbody> <tr> <td>Apples</td> <td>$1</td> <td>7</td> </tr> <tr> <td>Lemonade</td> <td>$2</td> <td>18</td> </tr> <tr> <td>Bread</td> <td>$3</td> <td>2</td> </tr> </tbody> </table> </section> <section> <h2>Clever Quotes</h2> <p> 培根： </p> <blockquote>知识就是力量</blockquote> </section> <section> <h2>Intergalactic Interconnections</h2> <p> You can link between slides internally, <a href=#/2/3>like this</a>. </p> </section> <section> <h2>Speaker View</h2> <p>There\'s a <a href=https://github.com/hakimel/reveal.js#speaker-notes>speaker view</a>. It includes a timer, preview of the upcoming slide as well as your speaker notes.</p> <p>Press the <em>S</em> key to try it out.</p> <aside class=notes> Oh hey, these are some notes. They\'ll be hidden in your presentation, but you can see them if you open the speaker notes window (hit \'s\' on your keyboard). </aside> </section> <section> <h2>Export to PDF</h2> <p>Presentations can be <a href=https://github.com/hakimel/reveal.js#pdf-export>exported to PDF</a>, here\'s an example:</p> </section> <section> <h2>Global State</h2> <p> Set <code>data-state="something"</code> on a slide and <code>"something"</code> will be added as a class to the document element when the slide is open. This lets you apply broader style changes, like switching the page background. </p> </section> <section data-state=customevent> <h2>State Events</h2> <p> Additionally custom events can be triggered on a per slide basis by binding to the <code>data-state</code> name. </p> <pre><code class=javascript data-trim contenteditable style=font-size:18px>\nReveal.addEventListener( \'customevent\', function() {\n\tconsole.log( \'"customevent" has fired\' );\n} );\n\t\t\t\t\t</code></pre> </section> <section> <h2>Take a Moment</h2> <p> Press B or . on your keyboard to pause the presentation. This is helpful when you\'re on stage and want to take distracting slides off the screen. </p> </section> <section> <h2>Much more</h2> <ul> <li>Right-to-left support</li> <li><a href=https://github.com/hakimel/reveal.js#api>Extensive JavaScript API</a></li> <li><a href=https://github.com/hakimel/reveal.js#auto-sliding>Auto-progression</a></li> <li><a href=https://github.com/hakimel/reveal.js#parallax-background>Parallax backgrounds</a></li> <li><a href=https://github.com/hakimel/reveal.js#keyboard-bindings>Custom keyboard bindings</a></li> </ul> </section> <section style=text-align:left> <h2>THE END</h2> <p> - <a href=http://slides.com>Try the online editor</a> <br> - <a href=https://github.com/hakimel/reveal.js>Source code &amp; documentation</a> </p> </section> </div> '},360:function(e,t){e.exports={html:"_3ui01hT7ySxw848z3Ihp5A",module:"rIGljuNsfhIhXiXk0I-dk",userForm:"_1Qv3ZHuiC1q33UR5r7Oes",home:"_3bCTJBeVMsqG2xc38Gz3yv",reveal:"_2czughUxZ-ZuMPeZTiLKqQ",homeBackground:"_1CPFB4PeERrJGzUZxwPHKD",area:"_2cPFakY6uYYmAZ2z1z4Woq",userPanel:"_2BrWiLMlCg1QgW2xhebgDl",drop:"_4VKRmmrEr5QtZLNNE4Pl6",emerge:"_2SjYsiSlpxOQZT5RK8SkEj"}},362:function(e,t,n){e.exports=n.p+"e87470ca28ec12077bafd37af0bc67d6.png"},363:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(364),f=o(l),d=n(180),p=o(d),h=n(171),m=o(h),y=n(323),b=(o(y),n(184)),v=n(209),_=(o(v),n(366)),g=(o(_),n(367)),w=o(g),k=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"componentWillUpdate",value:function(e,t){this.context.notLoginStateCheck.bind(this)(e)}},{key:"render",value:function(){var e=this.props.css;return c.default.createElement("div",{className:(0,m.default)("container-mid",e.module)},c.default.createElement("div",{className:(0,m.default)("heading-primary")},"选择登录方式"),c.default.createElement("div",{className:(0,m.default)("container-mid",e.module)},c.default.createElement("a",{href:"/oauth/qq/luanch"},c.default.createElement("img",{width:"24",height:"24",src:w.default}),"腾讯QQ")))}}]),t}(c.default.Component),E=function(e){return{user:e.user}};k.contextTypes={router:c.default.PropTypes.object.isRequired,location:c.default.PropTypes.object.isRequired,notLoginStateCheck:c.default.PropTypes.func.isRequired},t.default=(0,b.connect)(E)((0,p.default)(f.default)(k))},364:function(e,t){e.exports={html:"_3bQv1L1EBLFtB3jTe4F3vv",module:"_2TYPftBtFs6z7Cy-21TjWl",userForm:"_333W90dReiq7mMHynRgX1T",drop:"hMzsCZWV4qeqoqBI3SgYL",emerge:"PEhkB5iTP--iXSVoHjfpo"}},366:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.query.callback,o=t.query;if(delete o.callback,n){var r=_Y_.objectToQuery(o),t=r?n+"?"+r:n;_Y_.navigateTo(t)}else e.push({pathname:"home"})}},367:362,368:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(364),f=o(l),d=n(180),p=o(d),h=n(171),m=(o(h),n(323)),y=o(m),b=n(184),v=n(209),_=(o(v),n(366)),g=(o(_),n(367)),w=(o(g),function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e={mode:"transaction",lid:this.props.params.lid};y.default.dispatchLoginAsync(e)(this.props.dispatch,function(){return this.props.user}.bind(this))}},{key:"componentWillUpdate",value:function(e,t){this.context.notLoginStateCheck.bind(this)(e)}},{key:"render",value:function(){return c.default.createElement("div",{className:"dead-center"},"...")}}]),t}(c.default.Component)),k=function(e){return{user:e.user}};w.contextTypes={router:c.default.PropTypes.object.isRequired,location:c.default.PropTypes.object.isRequired,notLoginStateCheck:c.default.PropTypes.func.isRequired},t.default=(0,b.connect)(k)((0,p.default)(f.default)(w))},369:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(236),f=o(l),d=n(180),p=o(d),h=n(171),m=o(h),y=n(238),b=o(y),v=n(184),_=n(239),g=o(_),w=n(245),k=o(w),E=n(252),O=(o(E),function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onSwitchEditStatus=e.onSwitchEditStatus.bind(e),e}return a(t,e),s(t,[{key:"componentWillMount",value:function(){b.default.dispatchGetRootAsync()(this.props.dispatch,function(){return this.props.disk}.bind(this))}},{key:"componentWillUpdate",value:function(e,t){this.context.loginStateCheck.bind(this)(e)}},{key:"onSwitchEditStatus",value:function(){this.props.dispatch(b.default.switchEditStatus())}},{key:"render",value:function(){var e=this.props.css,t=(this.props.disk.get("newDirectoryShown"),!!this.props.disk.getIn(["fileToBeMoved","_id"])),n=(this.props.disk.get("currentDirectory").toObject(),this.props.disk.get("editStatus"));return c.default.createElement("div",{className:(0,m.default)("container-mid",e.module)},c.default.createElement("h1",{className:(0,m.default)("heading-primary"),style:{borderBottom:"1px solid #555"}},c.default.createElement("div",{onClick:this.onSwitchEditStatus,className:(0,m.default)("empty-button")},n?c.default.createElement("i",{className:"icon-toggle-on"}):c.default.createElement("i",{className:"icon-toggle-off"}))),c.default.createElement("div",{className:(0,m.default)(e.diskContainer,"grid-parent")},c.default.createElement("div",{className:(0,m.default)(e.diskContentContainer,"grid-child")},c.default.createElement(g.default,null)),c.default.createElement("div",{className:(0,m.default)(e.diskContentContainer,"grid-child")},c.default.createElement(k.default,null))),t?c.default.createElement("div",{className:e.movingOverlay}):"")}}]),t}(c.default.Component)),j=function(e){return{user:e.user,disk:e.disk}};O.contextTypes={router:c.default.PropTypes.object.isRequired,loginStateCheck:c.default.PropTypes.func.isRequired},t.default=(0,v.connect)(j)((0,p.default)(f.default)(O))},370:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(371),f=o(l),d=n(180),p=o(d),h=n(171),m=(o(h),n(184)),y=n(207),b=o(y),v=n(373),_=o(v),g=n(376),w=o(g),k=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onShowCreateForm=e.onShowCreateForm.bind(e),e.onCancelSubmit=e.onCancelSubmit.bind(e),e.onCreateSubmit=e.onCreateSubmit.bind(e),e}return a(t,e),s(t,[{key:"componentWillUpdate",value:function(e,t){this.context.loginStateCheck.bind(this)(e)}},{key:"onShowCreateForm",value:function(e){this.props.dispatch(b.default.onShowCreateNewForm())}},{key:"onCancelSubmit",value:function(e){this.props.dispatch(b.default.onHideCreateNewForm())}},{key:"onCreateSubmit",value:function(e){var t=this.refs.presentationName.value;t||(t="我的作品"),b.default.dispatchCreateNewPresentationAsync({name:t})(this.props.dispatch,function(){return this.props.presentation}.bind(this))}},{key:"componentDidMount",value:function(){b.default.dispatchGetPresentationListAsync()(this.props.dispatch,function(){return this.props.presentation}.bind(this))}},{key:"render",value:function(){var e=(this.props.css,this.props.presentation.get("presentations").toObject());this.props.presentation.get("createFlag");return c.default.createElement("div",null,Object.keys(e).map(function(t){return c.default.createElement(_.default,{key:t,presentation:e[t].toObject()})}.bind(this)),c.default.createElement(w.default,null))}}]),t}(c.default.Component),E=function(e){return{user:e.user,presentation:e.presentation}};k.contextTypes={router:c.default.PropTypes.object.isRequired,loginStateCheck:c.default.PropTypes.func.isRequired},t.default=(0,m.connect)(E)((0,p.default)(f.default)(k))},371:function(e,t){e.exports={html:"_3MAsyhAFcGJv8X68k0TDHt",module:"_2q5ydHlBSIo-2rlvxLYTLP",userForm:"_3C0vbl9xvtYa1wYLFH9e8F",home:"_2vwfKV28caRKNykSBjwbN1",backgroundBlockHome:"_1Oqh2laGDrcoo-dht63gDj",createNewForm:"_3H-GtdRfvVMcxAGlhycrXV",header:"_3psnZbpzzThpg_-HisHI5G",drop:"_1q-7eAG0z9GML5PO2A6dgz",emerge:"JxsUG-eYdHSqnauXvtdHI"}},373:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(171),f=o(l),d=n(180),p=o(d),h=n(374),m=o(h),y=n(207),b=o(y),v=n(184),_=n(209),g=o(_),w=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onRemove=e.onRemove.bind(e),e.getPresentUrl=e.getPresentUrl.bind(e),e.onPlay=e.onPlay.bind(e),e.onEdit=e.onEdit.bind(e),e}return a(t,e),s(t,[{key:"getPresentUrl",value:function(){var e=this.props.presentationState.get("currentSnapshot").toObject();return"play?id="+e._id}},{key:"onRemove",value:function(){b.default.dispatchRemovePresentationAsync({id:this.props.presentation._id})(this.props.dispatch,function(){return this.props.presentationState}.bind(this))}},{key:"onEdit",value:function(e){_Y_.navigateTo(e.target.dataset.target,!0)}},{key:"onPlay",value:function(){var e=this.props.presentationState.get("currentSnapshot").toObject();if(g.default.isEmpty(e)||e.presentation!==this.props.presentation._id)b.default.dispatchRequestPlayAsync({id:this.props.presentation._id,allowAnonymous:!0,interactive:!0})(this.props.dispatch,function(){return this.props.presentationState}.bind(this));else{var t=this.getPresentUrl();_Y_.navigateTo(""+__HOST+t,!0)}}},{key:"render",value:function(){var e=this.props.css;return c.default.createElement("div",{className:(0,f.default)("grid-child",e.presentationEach)},c.default.createElement("div",{className:e.presentation},c.default.createElement("div",{className:(0,f.default)("font-large",e.presentationName)},this.props.presentation.name),c.default.createElement("button",{onClick:this.onRemove,className:(0,f.default)("icon-bin","button-hollow")}),c.default.createElement("div",{className:(0,f.default)(e.options)},c.default.createElement("button",{onClick:this.onPlay,className:(0,f.default)("icon-play3","button-hollow")}),c.default.createElement("button",{onClick:this.onEdit,className:(0,f.default)("icon-pencil2","button-hollow"),"data-target":"/edit?id="+this.props.presentation._id}))))}}]),t}(c.default.Component),k=function(e){return{presentationState:e.presentation}};w.contextTypes={onShowQrcode:u.PropTypes.func.isRequired},t.default=(0,v.connect)(k)((0,p.default)(m.default)(w))},374:function(e,t){e.exports={html:"_1W1n6OPFKUQ4WGscap0Oz_",module:"bPtHLcCI1bVuE2QhPt0UM",userForm:"_3KWS9omOr6VtDgr2k4cF_P",presentationEach:"_1XvdkOfAeSE99ZrfyCIcyX",drop:"_2vJcSvBzV86L-phojqTV9N",presentationName:"isZW6esRus23K6EIOBrGo",presentation:"_1QArJfuMu5YE6JSStJgBTq",newPresentation:"_1JwHuFMChqmhu1PF4GB8cK",options:"_2jFTHf4rvtJ3ml-7Sw30Rt",newPresentationForm:"QpW1e5eSbYzqY1B3ZcAmf",newPresentationTextArea:"_3GUyXHhfPfM5dNKHou3aq9",emerge:"_2qLR7FEkJsSRP7S1jbaOgw"}},376:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(171),f=o(l),d=n(180),p=o(d),h=n(374),m=o(h),y=n(207),b=o(y),v=n(184),_=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onNewClick=e.onNewClick.bind(e),e.onCreateNewPresentation=e.onCreateNewPresentation.bind(e),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.refs.newPresentationInput.addEventListener("keypress",function(e){event.stopPropagation(),13==(e.keyCode||e.which)&&this.onCreateNewPresentation()}.bind(this)),this.refs.newPresentationInput.addEventListener("blur",function(e){_Y_.show(this.refs.plus),_Y_.hide(this.refs.form),this.refs.newPresentationInput.value=""}.bind(this))}},{key:"onNewClick",value:function(){event.stopPropagation(),_Y_.hide(this.refs.plus),_Y_.show(this.refs.form),this.refs.newPresentationInput.focus()}},{key:"onCreateNewPresentation",value:function(){var e=this.refs.newPresentationInput.value;e||(e="我的作品"),b.default.dispatchCreateNewPresentationAsync({name:e})(this.props.dispatch,function(){return this.props.presentation}.bind(this)),this.refs.newPresentationInput.blur()}},{key:"render",value:function(){var e=this.props.css;return c.default.createElement("div",{onClick:this.onNewClick,className:(0,f.default)(e.presentationEach,"grid-child")},c.default.createElement("div",{className:e.newPresentation},c.default.createElement("div",{className:"dead-center"},c.default.createElement("span",{style:{verticalAlign:top,margin:"3px"},ref:"plus",className:(0,f.default)("icon-plus","font-largest")})),c.default.createElement("div",{ref:"form",className:e.newPresentationForm,style:{display:"none"}},c.default.createElement("textarea",{ref:"newPresentationInput",placeholder:"请输入幻灯片名称 按回车确定",className:(0,f.default)(e.newPresentationTextArea),type:"text"}))))}}]),t}(c.default.Component),g=function(e){return{presentationState:e.presentation}};t.default=(0,v.connect)(g)((0,p.default)(m.default)(_))},377:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(378),f=o(l),d=n(180),p=o(d),h=n(171),m=(o(h),n(184)),y=n(207),b=o(y),v=n(380),_=o(v),g=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){b.default.dispatchGetSnapshotListAsync()(this.props.dispatch,function(){return this.props.presentation}.bind(this))}},{key:"render",value:function(){var e=(this.props.css,this.props.presentation.get("recentSnapshots").toObject());return c.default.createElement("div",null,Object.keys(e).map(function(t){return c.default.createElement(_.default,{key:t,snapshot:e[t].toObject()})}.bind(this)))}}]),t}(c.default.Component),w=function(e){return{user:e.user,presentation:e.presentation}};g.contextTypes={router:c.default.PropTypes.object.isRequired,loginStateCheck:c.default.PropTypes.func.isRequired},t.default=(0,m.connect)(w)((0,p.default)(f.default)(g))},378:function(e,t){e.exports={html:"E-YEERsO-s61dYT5fTJSa",module:"_1FB3ckgc128LiNt7NcnOsy",userForm:"_3cZEzMQI7OuKhdzYZ_jiQD",home:"_1dKOYvWEN0UoXHqnyfFxIc",backgroundBlockHome:"_1rN-tDJqY6HLgtpz8mCfMh",createNewForm:"Yek7dqIH1BLAk6B4UbYPX",header:"_1cgDwhuJT4rx4Ispc65663",drop:"_2Bw76PDG-w_oB5ApWTxitL",emerge:"_3pzUXGeukQka-t1wDQqZ4p"}},380:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(171),f=o(l),d=n(180),p=o(d),h=n(381),m=o(h),y=n(207),b=o(y),v=n(184),_=n(209),g=(o(_),function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onRemove=e.onRemove.bind(e),e.onShowQrcode=e.onShowQrcode.bind(e),e.getPresentUrl=e.getPresentUrl.bind(e),e.onPlay=e.onPlay.bind(e),e}return a(t,e),s(t,[{key:"getPresentUrl",value:function(){return"play?id="+this.props.snapshot._id}},{key:"onRemove",value:function(){b.default.dispatchRemoveSnapshotAsync({id:this.props.snapshot._id})(this.props.dispatch,function(){return this.props.presentationState}.bind(this))}},{key:"onPlay",value:function(){var e=this.getPresentUrl();_Y_.navigateTo(""+__HOST+e,!0)}},{key:"onShowQrcode",value:function(){this.context.onShowQrcode.call(null,""+__HOST+this.getPresentUrl())}},{key:"render",value:function(){var e=this.props.css;return c.default.createElement("div",{className:(0,f.default)("grid-child",e.presentationEach)},c.default.createElement("div",{className:e.presentation},c.default.createElement("div",{className:(0,f.default)("font-large",e.presentationName)},this.props.snapshot.name),c.default.createElement("div",{className:(0,f.default)("font-smallest",e.presentationName)},this.props.snapshot.presented),c.default.createElement("button",{onClick:this.onRemove,className:(0,f.default)("icon-bin","button-hollow")}),c.default.createElement("div",{className:(0,f.default)(e.options)},c.default.createElement("button",{onClick:this.onShowQrcode,className:(0,f.default)("icon-qrcode","button-hollow"),"data-target":"/present?id="+this.props.snapshot._id}),c.default.createElement("button",{onClick:this.onPlay,className:(0,f.default)("icon-play3","button-hollow")}))))}}]),t}(c.default.Component)),w=function(e){return{presentationState:e.presentation}};g.contextTypes={onShowQrcode:u.PropTypes.func.isRequired},t.default=(0,v.connect)(w)((0,p.default)(m.default)(g))},381:function(e,t){e.exports={html:"_1Bg7wKLn-czdUJ6Brs7Aqj",module:"fgbjMSce5G_HhBjifyMh6",userForm:"_1yy1wP0R8vemHpz0nDtTBG",presentationEach:"_3XGsSFfLrpimTgL7cREUWB",drop:"JHcXGLCxd_xjatY_O0s34",presentationName:"KcaSjVZiAejRZBK79HwMj",presentation:"_2nQxG1qlD6Q0uMpT5HGxI0",newPresentation:"_1zJfgZ9dB50EwMaIEgWEdb",options:"_2IX3yJwDo_8W3CF9rbI_BB",newPresentationForm:"_2QD_X0nhQA7GR1qTpWIAkY",newPresentationTextArea:"_-caBimQfLGxrDkEgVroIR",emerge:"KX8oyn4sf0_sR8PT5lqny"}},383:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(378),f=o(l),d=n(180),p=o(d),h=n(171),m=(o(h),n(184)),y=n(207),b=o(y),v=n(380),_=o(v),g=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){b.default.dispatchGetSnapshotListAsync()(this.props.dispatch,function(){return this.props.presentation}.bind(this))}},{key:"render",value:function(){var e=(this.props.css,this.props.presentation.get("favorateSnapshots").toObject());return c.default.createElement("div",null,Object.keys(e).map(function(t){return c.default.createElement(_.default,{key:t,presentation:e[t].toObject()})}.bind(this)))}}]),t}(c.default.Component),w=function(e){return{user:e.user,presentation:e.presentation}};g.contextTypes={router:c.default.PropTypes.object.isRequired,loginStateCheck:c.default.PropTypes.func.isRequired},t.default=(0,m.connect)(w)((0,p.default)(f.default)(g))},384:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=n(385),f=o(l),d=n(180),p=o(d),h=n(171),m=o(h),y=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.css;return c.default.createElement("div",{className:e.pageContainer},c.default.createElement("div",{className:"container-mid"},c.default.createElement("h1",{className:(0,m.default)(e.primaryHeading,"horizontal-center")},"没找到你要的东西")))}}]),t}(c.default.Component);t.default=(0,p.default)(f.default)(y)},385:function(e,t){e.exports={html:"qOWagksAFyE5l5LoIBFUB",module:"l32sbBpwntG-mQXXeRrfl",userForm:"_3jikuJY7k166PtagczZfKU",notFoundPage:"_1gwVeZRl7fuDQNy1mbnqfh",drop:"_20ytP9RQxCjSeGQcnhyrUF",emerge:"_1KUmre2gomxKRodygtnipj"}},387:function(e,t){e.exports={container:"_2x26zT-DPZkvNHUPNgR-Ic"}}});